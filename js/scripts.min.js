"use strict";var message=function(){console.log("this is transpiled!r")};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}message(),function(e){e(".button_for_menu").click(function(){e(this).toggleClass("active"),e(".main_nav").toggleClass("active"),e(".overlayer_menu").toggleClass("active")}),e(".menu-item > a").append("<span></span>"),e(".menu-item > a").addClass("btn-6"),e(".overlayer_menu").click(function(){e(this).toggleClass("active"),e(".main_nav").toggleClass("active"),e(".button_for_menu").toggleClass("active")})}(jQuery),function(i){i(".btn-6").on("mouseenter",function(e){var t=i(this).offset(),n=e.pageX-t.left,s=e.pageY-t.top;i(this).find("span").css({top:s,left:n})}).on("mouseout",function(e){var t=i(this).offset(),n=e.pageX-t.left,s=e.pageY-t.top;i(this).find("span").css({top:s,left:n})}),i("[href=#]").click(function(){return!1})}(jQuery),function(e){e(window).resize(function(){window.innerWidth<500&&e(".button_for_menu").html(e(".button_for_menu").html().split("Menu").join(""))})}(jQuery),function(t){t(".header");t("#fullpage").fullpage({sectionSelector:".vertical-scrolling",navigation:!0,slidesNavigation:!0,controlArrows:!1,anchors:["firstSection","secondSection","thirdSection","fourthSection","fifthSection","sixthSection","seventhSection"],menu:"#menu",afterLoad:function(){},onLeave:function(e){5==e&&t("#fp-nav").show()}})}(jQuery),function(n){new(function(){function e(){_classCallCheck(this,e),this.addSeachTemplate(),this.searchResults=n("#search-results"),this.openButton=n(".ntr-search"),this.closeButton=n(".search-close"),this.searchOverlay=n(".search-overlay"),this.searchInput=n(".search-term"),this.events(),this.overlayActive=!1,this.typingTimer,this.spinnerVisible=!1,this.lastValue}return _createClass(e,[{key:"events",value:function(){this.openButton.on("click",this.openOverlay.bind(this)),this.closeButton.on("click",this.closeOverlay.bind(this)),this.searchOverlay.on("click",this.closeOverlay.bind(this)),this.searchInput.on("click",this.focusSearch.bind(this)),n(document).on("keydown",this.keyPressDispatcher.bind(this)),this.searchInput.on("keyup",this.typingLogic.bind(this))}},{key:"typingLogic",value:function(){this.searchInput.val()!=this.lastValue&&(clearTimeout(this.typingTimer),this.searchInput.val()?(this.spinnerVisible||(this.searchResults.html('<div class="spinner"></div>'),this.spinnerVisible=!0),this.typingTimer=setTimeout(this.getResults.bind(this),750)):(this.searchResults.html(""),this.spinnerVisible=!1)),this.lastValue=this.searchInput.val()}},{key:"getResults",value:function(){var t=this;n.getJSON(localSite.root_url+"/wp-json/ntrSite/v1/search?term="+this.searchInput.val(),function(e){t.searchResults.html('\n        <div class="row">\n          <div class="one-third">\n            \n            '.concat(e.general.length?"<h3>Pages</h3><ul>":"<p>No results found</p>","\n            ").concat(e.general.map(function(e){return'<li><a href="'.concat(e.permalink,'">').concat(e.title,"</a></li>")}).join(""),"\n              ").concat(e.general.length?"</ul>":"",'\n          </div>\n          <div class="one-third">\n          \n          ').concat(e.projects.length?"<h3>Projects</h3><ul>":"<p>No results found</p>","\n          ").concat(e.projects.map(function(e){return'<li><a href="'.concat(e.permalink,'">').concat(e.title,"</a></li>")}).join(""),"\n            ").concat(e.projects.length?"</ul>":"",'\n          </div>\n          <div class="one-third last">\n          \n          ').concat(e.posts.length?"<h3>Posts</h3><ul>":"<p>No results found</p>","\n            ").concat(e.posts.map(function(e){return'<li><a href="'.concat(e.permalink,'">').concat(e.title," ").concat("post"==e.postType?"".concat(e.postDate):"","</a></li>")}).join(""),"\n              ").concat(e.posts.length?"</ul>":"","\n          </div>  \n        </div>")),t.spinnerVisible=!1})}},{key:"keyPressDispatcher",value:function(e){83==e.keyCode&&!this.overlayActive&&n("input, textarea").is(":focus")&&this.openOverlay(),27==e.keyCode&&this.overlayActive&&this.closeOverlay()}},{key:"openOverlay",value:function(){var e=this;this.searchOverlay.addClass("active"),n("body").addClass("no_scrolling"),this.searchInput.val(""),setTimeout(function(){return e.searchInput.focus()},301),this.overlayActive=!0}},{key:"closeOverlay",value:function(){this.searchOverlay.removeClass("active"),n("body").removeClass("no_scrolling"),this.overlayActive=!1}},{key:"focusSearch",value:function(e){e.stopPropagation(),console.log("yep")}},{key:"addSeachTemplate",value:function(){n("body").append('\n    <div class="search-overlay">\n  <div class="search-top">\n              <div class="container">\n                <i class="fa fa-search search-icon" aria-hidden="true"></i>\n                <input type="text" class="search-term" placeholder="What are you looking for?" id="search-term">\n                <i class="fa fa-window-close search-close" aria-hidden="true"></i>\n              </div>\n              <div class="container">\n                <div id="search-results">\n                </div>\n              </div>\n  </div>\n</div>\n    ')}}]),e}())}(jQuery);